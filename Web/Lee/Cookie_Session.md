## Cookie & Session

`HTTP` λ” `stateless` μ™€ `connectionless` νΉμ§•μ„ κ°€μ§€κ³  μλ‹¤.

λ‹¤μ‹ ν• λ² μ •λ¦¬ν•μλ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

- λ¬΄μƒνƒ(`stateless`)
    - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ—°κ²°μ΄ λμ–΄μ§€κ³  ν†µμ‹ μ΄ λλ‚  λ•, μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ”λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈμ μ΄μ „ μƒν™©μ„ μ• μ μ—†λ‹¤.
- λΉ„μ—°κ²°μ„±(`connectionless`)
    - ν΄λΌμ΄μ–ΈνΈ β†’ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ β†’ μ„λ²„ β†’ μ„λ²„μ μ‘λ‹µ β†’ ν΄λΌμ΄μ–ΈνΈ
      μ΄λ ‡κ² ν• μ‚¬μ΄ν΄μ΄ λλ‚λ©΄, λ°”λ΅ μ—°κ²°μ„ λλ”λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ κµ¬μ΅°μ—μ„ μµλ€ μ—°κ²° μλ³΄λ‹¤ ν›¨μ”¬ λ§μ€ μ”μ²­/μ‘λ‹µμ„ μ²λ¦¬ν•  μ μλ‹¤.

> μ—°κ²° ν•΄μ  ν›„μ— μƒνƒ μ •λ³΄λ¥Ό μ €μ¥ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ„λ²„μ μμ›μ„ μ•„λ‚„ μ μλ‹¤λ” μ¥μ μ΄ μμ§€λ§, μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹λ³„ν•  μ μ—†λ‹¤λ” λ‹¨μ μ΄ μλ‹¤.
>

### μ΄λ¥Ό λ€μ²ν•κΈ° μ„ν•΄, `Cookie`μ™€ `Session`μ„ μ‚¬μ©ν•λ‹¤.

---

## Cookie

<aside>
π’΅ μΏ ν‚¤λ€ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ›Ή λΈλΌμ°μ €μ— μ €μ¥ν•λ” λ°μ΄ν„°μ΄λ‹¤.

</aside>

> μ›Ή μ„λ²„λ” μΏ ν‚¤λ¥Ό μ΄μ©ν•΄μ„ μ›Ή λΈλΌμ°μ €μ— μ •λ³΄λ¥Ό μ „μ†΅ν•  μ μκ³  μ›Ή μ„λ²„λ΅λ¶€ν„° μΏ ν‚¤λ¥Ό μ „λ‹¬λ°›μ€ μ›Ή λΈλΌμ°μ €λ” μ›Ή μ„λ²„μ— μ”μ²­ν•  λ• μΏ ν‚¤λ¥Ό ν•¨κ» μ „μ†΅ν•λ‹¤.
μΏ ν‚¤λ¥Ό μ‚¬μ©ν•λ©΄ μ„λ²„μ™€ λΈλΌμ°μ €λ” λ°μ΄ν„°λ¥Ό κ³µμ ν•κ³  μƒνƒ μ μ§€ν•  μ μλ‹¤.
>

### **μΏ ν‚¤ λ™μ‘λ°©μ‹**

1. ν΄λΌμ΄μ–ΈνΈμ μ”μ²­
2. μ›Ή μ„λ²„μ—μ„ μΏ ν‚¤λ¥Ό μƒμ„±
3. μ‘λ‹µ μ‹μ— HTTP ν—¤λ”μ— μΏ ν‚¤λ¥Ό ν¬ν•¨ν•μ—¬ μ „λ‹¬
4. client λ΅μ»¬ pcμ— μΏ ν‚¤ μ €μ¥
5. λΈλΌμ°μ €κ°€ λ§λ£λμ–΄λ„ μ§€μ •λ κΈ°κ°„κΉμ§€ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ³΄κ΄€
6. λ™μΌ μ”μ²­μ‹, μΏ ν‚¤κ°€ μ΅΄μ¬ν•λ©΄ HTTP ν—¤λ”μ— μΏ ν‚¤λ¥Ό ν¬ν•¨ν•μ—¬ μ „λ‹¬
7. μ„λ²„μ—μ„ μΏ ν‚¤λ¥Ό μ½μ–΄, μ΄μ „ μƒνƒ μ •λ³΄λ¥Ό λ³€κ²½ ν•  ν•„μ”κ°€ μμ„ λ• μΏ ν‚¤λ¥Ό μ—…λ°μ΄νΈν•μ—¬ λ³€κ²½λ μΏ ν‚¤λ¥Ό HTTP ν—¤λ”μ— ν¬ν•¨μ‹μΌ μ‘λ‹µ
8. μ‚¬μ© μ ID μ €μ¥(μλ™ λ΅κ·ΈμΈ), μΌμ£ΌμΌκ°„ λ‹¤μ‹ λ³΄μ§€ μ•κΈ°, μµκ·Ό κ²€μƒ‰ν• μƒν’λ“¤μ„ κ΄‘κ³ μ— μ¶”μ², μ‡Όν•‘λ° μ¥λ°”κµ¬λ‹

---

## Session

<aside>
π’΅ μΌμ • μ‹κ°„ λ™μ• κ°™μ€ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ“¤μ–΄μ¤λ” μ”μ²­μ„ μƒνƒλ΅ λ³΄κ³ , κ·Έ μƒνƒλ¥Ό μ μ§€ν•λ” κΈ°μ μ΄λ‹¤.

</aside>

> μ•„μ΄λ””λ‚ λΉ„λ°€λ²νΈ μ •λ³΄λ¥Ό μΏ ν‚¤λ¥Ό ν†µν•΄ μ „λ‹¬ν•λ” λ°©λ²•μ΄ μμ§€λ§, μ΄ κ²½μ° λ³΄μ•μƒ λ¬Έμ κ°€ λλ―€λ΅, μ„Έμ…μ„ μ΄μ©ν•λ‹¤.
μ¤‘μ”ν• μ •λ³΄λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ•„λ‹λΌ μ„λ²„μ— μ €μ¥ν•κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈ μ •λ³΄κ°€ λ…Έμ¶λμ§€ μ•λ”λ‹¤.
μ„Έμ…μ€ λΉ„λ°€λ²νΈκ°€ μ•„λ‹λΌ (ν΄λΌμ΄μ–ΈνΈμ μ‹λ³„μμΈ) μ„Έμ… ν‚¤λ¥Ό λ§λ“¤μ–΄μ„ μΏ ν‚¤μ— μ €μ¥ν•κ³ , μ„Έμ… ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•λ‹¤.
>

### **μ„Έμ… λ™μ‘λ°©μ‹**

1. ν΄λΌμ΄μ–ΈνΈμ μ”μ²­
2. μ„λ²„μ— μ”μ²­ μ‹, `session id`λ¥Ό μ„λ²„μ— μ „λ‹¬
3. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ `HTTP request header`μ ν•„λ“μΈ `Cookie`λ¥Ό ν™•μΈν•κ³ , μ–΄λ–¤ `session id`λ¥Ό λ³΄λƒλ”μ§€ ν™•μΈ
4. μ§€μ •λ `session id`κ°€ μ—†λ‹¤λ©΄ μƒμ„±ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬
5. `session id`λ¥Ό μ„λ²„μ— μ €μ¥
6. ν΄λΌμ΄μ–ΈνΈ μ¬μ ‘μ† μ‹, κ°€μ§€κ³  μλ” `session id` κ°’μ„ μ„λ²„μ— μ „λ‹¬

## **** μΏ ν‚¤μ™€ μ„Έμ…μ μ°¨μ΄μ— λ€ν•΄ μ΄μ•ΌκΈ°ν•  λ•, λΌμ΄ν”„μ‚¬μ΄ν΄μ΄ κ°€μ¥ μ¤‘μ”ν•¨! ****

|  | μΏ ν‚¤ | μ„Έμ… |
| --- | --- | --- |
| μ €μ¥μ„μΉ | Client | Server |
| μ €μ¥ν•μ‹ | Text | Object |
| λΌμ΄ν”„μ‚¬μ΄ν΄ | μΏ ν‚¤μ— μ§€μ •λ κΈ°κ°„κΉμ§€ | λΈλΌμ°μ € μΆ…λ£λ  λ• κΉμ§€ |
| μ©λ‰μ ν• | ~4KB | μ„λ²„κ°€ ν—μ©ν•λ” ν•, μ ν• μ—†μ |
| μ†λ„ | λΉ λ¦„ | λλ¦Ό |
| λ³΄μ• | λ‚μ¨ | μΆ‹μ |
- λΌμ΄ν”„μ‚¬μ΄ν΄
    - μΏ ν‚¤: μ§€μ •ν• κΈ°κ°„κΉμ§€ λΈλΌμ°μ €λ¥Ό μΆ…λ£ν•΄λ„ κ³„μ† λ‚¨μ•„ μλ”λ‹¤.
    - μ„Έμ…: λ§λ£μ‹κ°„μ„ μ§€μ •ν•  μ μμ§€λ§, λΈλΌμ°μ €κ°€ μΆ…λ£ν•λ©΄ λ§λ£μ‹κ°„μ— μƒκ΄€μ—†μ΄ μ‚­μ λλ‹¤.
- μ†λ„
    - μΏ ν‚¤: ν΄λΌμ΄μ–ΈνΈμ— λ¨λ“  λ°μ΄ν„°κ°€ μ €μ¥λμ–΄ μμ–΄μ„ μ„λ²„μ— μ”μ²­ν•  λ• μ†λ„κ°€ λΉ λ¥΄λ‹¤.
    - μ„Έμ…: μ‹¤μ  μ €μ¥λ μ •λ³΄κ°€ μ„λ²„μ— μμ–΄, μ„λ²„μ—μ„ μ²λ¦¬κ°€ ν•„μ”ν•΄ μ†λ„κ°€ λλ¦¬λ‹¤.
- λ³΄μ•
    - μΏ ν‚¤: ν΄λΌμ΄μ–ΈνΈμ— μ €μ¥λλ―€λ΅ λ³΄μ•μ— μ·¨μ•½ν•λ‹¤.
    - μ„Έμ…: μΏ ν‚¤λ¥Ό μ΄μ©ν•΄ session idλ§ μ €μ¥ν•κ³ , μ„λ²„μ—μ„ idλ¥Ό λ³΄κ³  μ²λ¦¬ν•λ―€λ΅ λΉ„κµμ μΌλ΅ λ³΄μ•μ΄ μΆ‹λ‹¤.